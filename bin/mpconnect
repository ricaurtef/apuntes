#!/bin/bash

DELAY=3

clear
echo -e "Tipo de conexi칩n \
   \nA. ABA \
   \nB. Metro \
   \nC. Satelital \
   \nQ. Salir"
read -p "Introduzca tipo instalacion [A B C] > "

until [[ $REPLY =~ [qQ] ]]; do
   p=0
   while [[ $p == 0 ]]; do
      read -p "Enter server Ip > " ip
      if [[ "$ip" =~ ^([0-9]{1,3}\.){3}[0-9]{1,3}$ ]]; then
         case $REPLY in
            a|A)   echo "ABA: $ip "
                   sleep $DELAY
                   ;;
            b|B)   echo "Metro: $ip "
                   sleep $DELAY
                   ;;
            c|C)   echo "Satelital: $ip "
                   sleep $DELAY
                   ;;
            [^qQ]*)   echo "Opci칩n inv치lida"
                      ;;
         esac
         p=1; REPLY=q
      else
         echo "Ip Inv치lida"
         sleep $DELAY
      fi
   done
done
echo "Programa terminado"
